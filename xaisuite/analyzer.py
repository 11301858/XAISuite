from .imports import*

def compare_explanations(filenames:list): #Analyze the generated explanations in given files
  '''A function that analyzes and compares the explanations generated by train_and_explainModel.
    Parameters:
    filenames:list | File names with explanations (of the form "Explainer ImportanceScores - Model Target.csv")
    
    Returns:
    Nothing
    '''
  for filename in filenames:
    try: 
      df = pd.read_csv(filename)

      for i in range(len(df['features'])):
          df['features'][i] = ast.literal_eval(df['features'][i])

      for i in range(len(df['scores'])):
          df['scores'][i] = ast.literal_eval(df['scores'][i])

      features = df['features']
      scores = df['scores']
      explainer = filename.split()[0]

      for feature in features[0]: #Very inefficient, but works
          vars()[feature + "List"] = []
          for i in range(len(df['features'])):
              eval(feature + "List").append(scores[i][features[i].index(feature)])
          plt.plot(eval(feature + "List"))
          plt.xlabel("Instance #")
          plt.ylabel("Importance Score")
          plt.title(feature + "List" + "-" + explainer)
          plt.show()
    except:
      print("An error occurred while analyzing the graph.")
